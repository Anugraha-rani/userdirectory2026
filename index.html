<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Directory</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body>
   <div class="container">
    <div class="text-end py-2 mt-2">
    <button class="btn btn-primary" onclick="savedButton()" >Saved Items</button>
    </div>
        <div id="heading" class="text-center my-5">
      

      </div> 
<table class="table border">
    <thead class="mt-10">
       <tr>
        <th>Name</th>
        <th>Email</th>
        <th>City</th>
        <th>Action</th>

       </tr>
    </thead>
    <tbody id="tableBody">
    
       
    </tbody>

</table>
        
    </div>
</body>
<script>
    let  users=[]
    
    fetch("https://jsonplaceholder.typicode.com/users").then(response=>{
        response.json().then(data=>{
            console.log(data);
            
            
            heading.innerHTML=`<h1>User Directory</h1>`
            tableBody.innerHTML=""
            data.forEach(user=>{
                tableBody.innerHTML +=`
             <tr>
        <td>${user.name}</td>
        <td>${user.email}</td>
        <td>${user.address.city}</td>
        <td>
            <button class="btn btn-primary" onclick='saveUser(${JSON.stringify(user)})'>Save</button>
        </td>
     </tr> 
            `
           
            })
            
        })
    })
 function saveUser(user) {
  
  let savedUsers = JSON.parse(localStorage.getItem("savedUsers")) || [];

  
  const exists = savedUsers.some(u => u.id === user.id);
  if (exists) {
    alert("User already saved!");
    return;
  }

  savedUsers.push(user);
  localStorage.setItem("savedUsers", JSON.stringify(savedUsers));

  alert("User saved successfully ");
}
 
function savedButton(){
    window.location.href="saved.html"
}

   
</script>
</html>